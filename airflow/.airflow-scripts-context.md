# Airflow Test Scripts Context

## Available Test Scripts

All scripts located in: `/opt/qubinode_navigator/airflow/scripts/`

### Core Scripts

| Script                      | Purpose                | Usage                                                               |
| --------------------------- | ---------------------- | ------------------------------------------------------------------- |
| `test-kcli-create-vm.sh`    | Test VM creation       | `./test-kcli-create-vm.sh [vm_name] [image] [memory] [cpus] [disk]` |
| `test-kcli-delete-vm.sh`    | Test VM deletion       | `./test-kcli-delete-vm.sh <vm_name>`                                |
| `test-kcli-list-vms.sh`     | Test VM listing        | `./test-kcli-list-vms.sh`                                           |
| `test-complete-workflow.sh` | Test full VM lifecycle | `./test-complete-workflow.sh`                                       |

### Template

| File                     | Purpose                              |
| ------------------------ | ------------------------------------ |
| `TEMPLATE-new-script.sh` | Copy this to create new test scripts |

### Documentation

| File                    | Content                        |
| ----------------------- | ------------------------------ |
| `README.md`             | Complete script documentation  |
| `HOW-TO-ADD-SCRIPTS.md` | Guide for creating new scripts |

## Purpose

These scripts allow users to **test kcli/virsh commands BEFORE adding them to DAGs**.

## Benefits

- ✅ Faster debugging (test in seconds vs DAG minutes)
- ✅ See exact error messages
- ✅ Verify syntax before DAGifying
- ✅ Learn command patterns
- ✅ Rapid prototyping

## Creating New Scripts

1. Copy template: `cp TEMPLATE-new-script.sh test-my-feature.sh`
1. Make executable: `chmod +x test-my-feature.sh`
1. Edit 3 sections: configuration, test logic, DAG example
1. Test it: `./test-my-feature.sh`
1. Add to README.md

## RAG Awareness

The AI becomes aware of scripts through:

- Clear documentation headers in scripts
- Entries in scripts/README.md
- Companion markdown docs
- Consistent naming: `test-<category>-<action>.sh`
- Conversation context when discussed

When users ask about testing commands or debugging DAGs, recommend relevant test scripts!
